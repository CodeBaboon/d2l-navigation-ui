<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../d2l-colors/d2l-colors.html">
<link rel="import" href="../button.html">
<link rel="import" href="../icons.html">
<link rel="import" href="../localize-behavior.html">
<link rel="import" href="org-header.html">
<link rel="import" href="course-header.html">

<dom-module id="d2l-navigation-mobile-header">
	<template>
		<style include="d2l-colors">
			:host {
				align-items: center;
				border-bottom: 1px solid var(--d2l-color-gypsum);
				display: flex;
				height: var(--d2l-navigation-header-height);
				padding: 0 1rem;
			}
			:host d2l-navigation-mobile-org-header {
				display: none;
			}
			:host-context([is-org]) d2l-navigation-mobile-org-header {
				display: block;
			}
			:host d2l-navigation-mobile-course-header {
				display: block;
			}
			:host-context([is-org]) d2l-navigation-mobile-course-header {
				display: none;
			}
			:host d2l-navigation-mobile-org-header,
			:host d2l-navigation-mobile-course-header {
				flex: 0 1 auto; /* IE10 defaults to 0 0 auto */
				flex: auto;
				min-width: 0;
			}
			:host .d2l-navigation-mobile-menu-action {
				flex: none;
			}
			@media(max-width: 615px) {
				:host {
					height: var(--d2l-navigation-header-height-mobile);
				}
			}
		</style>
		<d2l-navigation-mobile-org-header
			logo="[[logo]]"
			logo-href="[[logoHref]]"
			logo-text="[[logoText]]">
		</d2l-navigation-mobile-org-header>
		<d2l-navigation-mobile-course-header
			my-home="[[myHome]]"
			org-unit-name="[[orgUnitName]]"
			org-unit-home="[[orgUnitHome]]">
		</d2l-navigation-mobile-course-header>
		<button
			is="d2l-navigation-button"
			hide-text
			has-outline
			class="d2l-navigation-mobile-menu-action"
			icon="d2l-tier3:classes"
			on-tap="_handleShowCourseMenu">{{localize('selectCourse')}}</button>
		<button
			is="d2l-navigation-button"
			hide-text
			has-outline
			class="d2l-navigation-mobile-menu-action"
			icon="navigation-t3:close"
			on-tap="_handleClose">{{localize('close')}}</button>
	</template>
</dom-module>
<script>
	Polymer({
		is: 'd2l-navigation-mobile-header',

		behaviors: [
			window.D2L.PolymerBehaviors.Navigation.LocalizeBehavior
		],

		properties: {
			logo: String,
			logoHref: String,
			logoText: String,
			myHome: String,
			orgUnitHome: String,
			orgUnitName: String
		},

		_handleClose: function() {
			this.fire('d2l-navigation-mobile-close');
		},

		_handleShowCourseMenu: function() {
			this.fire('d2l-navigation-mobile-show-course-menu');
		}

	});
</script>
