<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-menu/paper-menu.html">
<link rel="import" href="../paper-menu-button/paper-menu-button.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../vui-colors/colors.html">
<link rel="import" href="icons.html">
<dom-module id="d2l-navigation-item-group">
	<style include="vui-colors">
		:host {
			display: inline-block;
			padding: 12px 22px 12px 0;
		}
		:host  a, :host a:link, :host a:visited {
			color: var(--vui-color-ferrite);
			cursor: pointer;
			text-decoration: none;
		}
		:host a:hover, :host a:focus {
			color: var(--vui-color-carnelian);
			text-decoration: underline;
			outline: none;
		}
		::content paper-menu-button {
			padding: 0;
		}
		iron-icon {
			height: 0.7rem;
			width: 0.7rem;
		}
		:host-context(d2l-navigation-slide-out-menu) {
			display: none;
		}
	</style>
	<template>
		<paper-menu-button
			vertical-align="top"
			vertical-offset="40">
			<a class="dropdown-trigger" tabindex="0">
				{{text}}
				<iron-icon icon="navigation-t1:drop-down"></iron-icon>
			</a>
			<paper-menu id="menu" class="dropdown-content">
				<template is="dom-repeat" items="{{items}}">
					<paper-item>{{item.text}}</paper-item>
				</template>
			</paper-menu>
		</paper-menu-button>
	</template>
</dom-module>
<script>
	Polymer({
		is: 'd2l-navigation-item-group',
		listeners: {
			'iron-select': '_onSelect'
		},
		properties: {
			items: Array,
			text: String
		},
		hostAttributes: {
			role: 'listitem'
		},
		_onSelect: function() {
			var selected = this.items[this.$.menu.selected];
			document.location.href = selected.href;
		}
	});
</script>
