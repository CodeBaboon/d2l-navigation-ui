<link rel="import" href="../../polymer/polymer.html">
<dom-module id="d2l-navigation-personal-menu">
	<style>
	:host {
		-webkit-align-items: center;
		-ms-flex-align: center;
		align-items: center;
		display: none;
	}
	:host-context([show-incomplete]) {
		display: -ms-flexbox;
		display: -webkit-flex;
		display: flex;
		max-width: 250px;
	}
	img {
		display: none;
		-ms-flex: 0 0 auto;
		-webkit-flex: 0 0 auto;
		flex: 0 0 auto;
		height: 42px;
		width: 42px;
	}
	:host.d2l-thumbnail-src-set img {
		display: block;
	}
	p {
		-ms-flex: 0 1 auto;
		-webkit-flex: 0 1 auto;
		font-size: 0.7rem;
		flex: 0 1 auto;
		margin-left: 10px;
		min-width: 40px;
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;
		width: 100%;
	}
	:host-context([dir='rtl']) div {
		margin-left: 0;
		margin-right: 10px;
	}
	@media(max-width: 992px) {
		p {
			display: none;
		}
	}
	</style>
	<template>
		<img src="[[profileThumbnailSrc]]" alt="" />
		<p>[[profileDisplayName]]</p>
	</template>
</dom-module>
<script>
	Polymer({
		is: 'd2l-navigation-personal-menu',
		properties: {
			profileDisplayName: String,
			profileThumbnailSrc: {
				type: String,
				observer: '_profileThumbnailSrcChanged'
			}
		},
		_profileThumbnailSrcChanged: function(newValue) {
			if(newValue) {
				console.log('yep');
				this.classList.add('d2l-thumbnail-src-set');
			}
		}
	});
</script>
